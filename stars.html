<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sparkling Starry Sky</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background: radial-gradient(ellipse at top, #1a2940 0%, #020818 60%, #000 100%);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #fff;
    }

    canvas {
      display: block;
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
    }

    /* Optional: subtle gradient at the bottom to feel like a horizon */
    .horizon-glow {
      position: fixed;
      left: 0;
      right: 0;
      bottom: -20%;
      height: 40%;
      background: radial-gradient(circle at 50% 0%, rgba(80, 140, 255, 0.4), transparent 60%);
      pointer-events: none;
      mix-blend-mode: screen;
    }

    /* Optional title text */
    .title {
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-size: 0.85rem;
      opacity: 0.8;
      pointer-events: none;
    }

    .title h1 {
      font-size: 2.4rem;
      margin: 0.4rem 0 0;
      font-weight: 500;
    }

    .title span {
      font-size: 0.8rem;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <canvas id="starfield"></canvas>

  <div class="horizon-glow"></div>

  <div class="title">
    <span>Night Sky</span>
    <h1>Sparkling Stars</h1>
  </div>

  <script>
   const canvas = document.getElementById("starfield");
   const ctx = canvas.getContext("2d");

   let width = window.innerWidth;
   let height = window.innerHeight;
   canvas.width = width;
   canvas.height = height;

   const STAR_COUNT = 200;
   const stars = [];

   function randomRange(min, max) {
     return Math.random() * (max - min) + min;
   }

   function createStar() {
     const depth = Math.random(); // 0 = near, 1 = far
     return {
       x: Math.random() * width,
       y: Math.random() * height,
       radius: randomRange(0.5, 2.2) * (1 - depth * 0.6),
       baseAlpha: randomRange(0.3, 1),
       twinkleSpeed: randomRange(0.0015, 0.004),
       twinkleOffset: Math.random() * Math.PI * 2,
       hue: randomRange(200, 260), // bluish to purplish stars
       depth
     };
   }

   function initStars() {
     stars.length = 0;
     for (let i = 0; i < STAR_COUNT; i++) {
       stars.push(createStar());
     }
   }

   function resize() {
     width = window.innerWidth;
     height = window.innerHeight;
     canvas.width = width;
     canvas.height = height;
     initStars();
   }

   window.addEventListener("resize", resize);

   let lastTime = 0;

   function draw(timestamp) {
     const delta = timestamp - lastTime;
     lastTime = timestamp;

     ctx.clearRect(0, 0, width, height);

     // Subtle space "glow"
     const gradient = ctx.createRadialGradient(
       width / 2, height * 0.1, 0,
       width / 2, height / 2, Math.max(width, height)
     );
     gradient.addColorStop(0, "rgba(140, 180, 255, 0.08)");
     gradient.addColorStop(1, "rgba(0, 0, 0, 0.9)");
     ctx.fillStyle = gradient;
     ctx.fillRect(0, 0, width, height);

     for (const star of stars) {
       const twinkle = Math.sin(star.twinkleOffset + timestamp * star.twinkleSpeed) * 0.5 + 0.5; // 0â€“1
       const alpha = star.baseAlpha * (0.4 + twinkle * 0.6) * (1 - star.depth * 0.3);

       ctx.save();
       ctx.globalAlpha = alpha;

       // Slight blur halo
       const gradientStar = ctx.createRadialGradient(
         star.x, star.y, 0,
         star.x, star.y, star.radius * 3
       );
       gradientStar.addColorStop(0, `hsla(${star.hue}, 80%, 90%, 1)`);
       gradientStar.addColorStop(0.4, `hsla(${star.hue}, 80%, 70%, 0.8)`);
       gradientStar.addColorStop(1, "rgba(255, 255, 255, 0)");

       ctx.fillStyle = gradientStar;
       ctx.beginPath();
       ctx.arc(star.x, star.y, star.radius * 3, 0, Math.PI * 2);
       ctx.fill();

       // Bright core
       ctx.fillStyle = `hsla(${star.hue}, 90%, 95%, 1)`;
       ctx.beginPath();
       ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
       ctx.fill();

       ctx.restore();
     }

     requestAnimationFrame(draw);
   }

   initStars();
   requestAnimationFrame(draw);
  </script>
</body>
</html>
